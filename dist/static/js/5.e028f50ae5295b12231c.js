webpackJsonp([5],{"5jRo":function(e,t,a){"use strict";a.d(t,"a",function(){return s});var s={data:function(){return{pageSizeArray:[5,10,15,20],pageNo:1,pageSize:5,pageTotal:null}},mounted:function(){this.getTask()},watch:{pageSize:function(e,t){return this.pageTotal>e?(this.getTask(),!1):!(this.pageTotal<t)&&void this.getTask()}},methods:{handleSizeChange:function(e){this.pageSize=e},handleCurrentChange:function(e){this.pageNo=e,this.getTask()},getTask:function(){var e=this;this.$ajax.post(this.apiUrl,this.params).then(function(t){console.log(t);var a=t.data;if("200"===a.code){e.pageTotal=a.data.total||a.totalCount||a.data.totalCount;var s=a.data.datas||a.data.userAccountDOList||a.data.buyers||a.data.sellers;e.setList(s)}else e.$message.error(a.message)}).catch(function(t){console.log(t),e.$message.error("网络错误，刷新下试试")})},isNull:function(e){return e||"暂无数据"}}}},"6tyn":function(e,t,a){t=e.exports=a("FZ+f")(!0),t.push([e.i,".buyerAccount[data-v-bf0ed64c]{margin:20px;padding:20px;background:#fff}.buyerAccount .inps[data-v-bf0ed64c]{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.buyerAccount .inps .selectGroup[data-v-bf0ed64c],.buyerAccount .inps[data-v-bf0ed64c]{display:-webkit-box;display:-ms-flexbox;display:flex}.buyerAccount .inps .selectGroup .select[data-v-bf0ed64c]{margin-right:36px;font-size:14px;color:#333}.buyerAccount .inps .search[data-v-bf0ed64c]{-webkit-box-flex:1;-ms-flex:1;flex:1;max-width:300px}.buyerAccount .inps .search .primary[data-v-bf0ed64c]{background:#40b6ff;color:#fff;border-color:#40b6ff;border-top-left-radius:0;border-bottom-left-radius:0;border:1px solid #40b6ff}.buyerAccount .linkAccount[data-v-bf0ed64c]{padding-top:24px;padding-bottom:10px;border-bottom:1px solid #ccc}.buyerAccount .accountTab[data-v-bf0ed64c]{padding:20px 0}","",{version:3,sources:["D:/vue-plantform-two/src/components/account/buyerAccount/buyerAccount.vue"],names:[],mappings:"AACA,+BACE,YAAa,AACb,aAAc,AACd,eAAiB,CAClB,AACD,qCAIE,yBAA0B,AACtB,sBAAuB,AACnB,6BAA+B,CACxC,AACD,uFAPE,oBAAqB,AACrB,oBAAqB,AACrB,YAAc,CASf,AACD,0DACE,kBAAmB,AACnB,eAAgB,AAChB,UAAY,CACb,AACD,6CACE,mBAAoB,AAChB,WAAY,AACR,OAAQ,AAChB,eAAiB,CAClB,AACD,sDACE,mBAAoB,AACpB,WAAY,AACZ,qBAAsB,AACtB,yBAA0B,AAC1B,4BAA6B,AAC7B,wBAA0B,CAC3B,AACD,4CACE,iBAAkB,AAClB,oBAAqB,AACrB,4BAA8B,CAC/B,AACD,2CACE,cAAgB,CACjB",file:"buyerAccount.vue",sourcesContent:["\n.buyerAccount[data-v-bf0ed64c] {\n  margin: 20px;\n  padding: 20px;\n  background: #fff;\n}\n.buyerAccount .inps[data-v-bf0ed64c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n.buyerAccount .inps .selectGroup[data-v-bf0ed64c] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n}\n.buyerAccount .inps .selectGroup .select[data-v-bf0ed64c] {\n  margin-right: 36px;\n  font-size: 14px;\n  color: #333;\n}\n.buyerAccount .inps .search[data-v-bf0ed64c] {\n  -webkit-box-flex: 1;\n      -ms-flex: 1;\n          flex: 1;\n  max-width: 300px;\n}\n.buyerAccount .inps .search .primary[data-v-bf0ed64c] {\n  background: #40b6ff;\n  color: #fff;\n  border-color: #40b6ff;\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border: 1px solid #40b6ff;\n}\n.buyerAccount .linkAccount[data-v-bf0ed64c] {\n  padding-top: 24px;\n  padding-bottom: 10px;\n  border-bottom: 1px solid #ccc;\n}\n.buyerAccount .accountTab[data-v-bf0ed64c] {\n  padding: 20px 0;\n}"],sourceRoot:""}])},BO1k:function(e,t,a){e.exports={default:a("fxRn"),__esModule:!0}},NOg2:function(e,t,a){"use strict";var s=a("Dd8w"),n=a.n(s),o=a("BO1k"),r=a.n(o),l=a("mvHQ"),c=a.n(l),i=a("5jRo"),u=a("NYxO");t.a={name:"buyerAccount",mixins:[i.a],data:function(){return{currentPage:1,buyerLevel:"",buyerStatus:"",weChat:"",weChatList:[],telephoneOrUserName:"",showAlert:!1,uploadObj:{},uploaded:!1,tableData:[],apiUrl:"/api/buyerAccount/getBuyerUserDetailList"}},methods:{handleClick:function(e){console.log(e),window.sessionStorage.setItem("clickUserInfo",c()(e)),this.$router.push({name:"buyerAccountDetail"})},linkAccount:function(){this.uploaded=!1,this.showAlert=!1},uploadSuccess:function(e,t,a){"200"===e.code?(this.uploaded=!0,this.uploadObj=e.data):this.$message.error(e.message)},setList:function(e){console.log(e);var t=[],a=!0,s=!1,n=void 0;try{for(var o,l=r()(e);!(a=(o=l.next()).done);a=!0){var c=o.value,i={buyerLevel:this.isNull(c.buyerLevel),buyerStatus:this.isNull(c.buyerStatus),gmtCreate:this.isNull(c.gmtCreate),inviterId:this.isNull(c.inviterId),isJdPassCheck:this.isNull(c.isJdPassCheck),operateUserAccountId:this.isNull(c.operateUserAccountId),operaterName:this.isNull(c.operaterName),operaterWechatNum:this.isNull(c.operaterWechatNum),parentTelephone:this.isNull(c.parentTelephone),parentUserName:this.isNull(c.parentUserName),parentUserType:this.isNull(c.parentUserType),telephone:this.isNull(c.telephone),userName:this.isNull(c.userName),wechatNum:this.isNull(c.wechatNum),buyerUserAccountId:this.isNull(c.buyerUserAccountId)};t.push(i)}}catch(e){s=!0,n=e}finally{try{!a&&l.return&&l.return()}finally{if(s)throw n}}this.tableData=t},getWechatList:function(){var e=this;this.$ajax.post("/api/platform/wechat/getListByOperateUserId",{operateUserId:this.userInfo.operateUserAccountId}).then(function(t){console.log(t),"200"===t.data.code?e.weChatList=t.data.data:e.$message({message:t.data.message,type:"warning"})}).catch(function(t){e.$message.error(t)})}},mounted:function(){this.getWechatList()},computed:n()({operateUserAccountId:function(){return this.userInfo.operateUserAccountId},params:function(){return{pageSize:this.pageSize,pageNo:this.pageNo,buyerLevel:this.buyerLevel,buyerStatus:this.buyerStatus,operateUserAccountId:this.weChat,telephoneOrUserName:this.telephoneOrUserName}}},Object(u.c)(["userInfo","userToken"]))}},O2ch:function(e,t,a){"use strict";function s(e){a("fT5g")}Object.defineProperty(t,"__esModule",{value:!0});var n=a("NOg2"),o=a("Ywjp"),r=a("VU/8"),l=s,c=r(n.a,o.a,!1,l,"data-v-bf0ed64c",null);t.default=c.exports},Ywjp:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"buyerAccount"},[a("div",{staticClass:"inps"},[a("div",{staticClass:"selectGroup"},[a("div",{staticClass:"select"},[a("span",[e._v("帐号类别:")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.buyerLevel,callback:function(t){e.buyerLevel=t},expression:"buyerLevel"}},[a("el-option",{attrs:{label:"一类",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"二类",value:"2"}}),e._v(" "),a("el-option",{attrs:{label:"三类",value:"3"}})],1)],1),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("帐号状态:")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.buyerStatus,callback:function(t){e.buyerStatus=t},expression:"buyerStatus"}},[a("el-option",{attrs:{label:"未提交",value:"0"}}),e._v(" "),a("el-option",{attrs:{label:"已认证",value:"1"}}),e._v(" "),a("el-option",{attrs:{label:"待审核",value:"2"}})],1)],1),e._v(" "),a("div",{staticClass:"select"},[a("span",[e._v("微信号:")]),e._v(" "),a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.weChat,callback:function(t){e.weChat=t},expression:"weChat"}},e._l(e.weChatList,function(e,t){return a("el-option",{key:t,attrs:{label:e.wechatNickName+"："+e.wechatNum,value:e.operateWechatId}})}))],1)]),e._v(" "),a("div",{staticClass:"search"},[a("el-input",{attrs:{placeholder:"请输入姓名/手机号"},model:{value:e.telephoneOrUserName,callback:function(t){e.telephoneOrUserName=t},expression:"telephoneOrUserName"}},[a("el-button",{staticClass:"primary",attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.getTask},slot:"append"})],1)],1)]),e._v(" "),a("div",{staticClass:"linkAccount"},[a("el-button",{on:{click:function(t){e.showAlert=!0}}},[e._v("导入账号")]),e._v(" "),a("el-dialog",{attrs:{title:"导入帐号?","append-to-body":!0,visible:e.showAlert,width:"40%"},on:{"update:visible":function(t){e.showAlert=t}}},[a("div",{staticClass:"upload"},[a("div",{staticClass:"cont"},[a("el-upload",{staticClass:"upload-demo",staticStyle:{"text-align":"center"},attrs:{accept:".csv",drag:"",action:"/api/file/uploadCsvBuyer",headers:{accesstoken:e.userToken,userAccountId:e.operateUserAccountId},"on-success":e.uploadSuccess,multiple:""}},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("拖拽CSV文件到此处或者\n              "),a("em",[e._v("点击上传")])]),e._v(" "),a("div",{staticClass:"el-upload__tip",staticStyle:{"text-align":"center"},attrs:{slot:"tip"},slot:"tip"},[e._v("ps:文件中不得出现 , (逗号)字符, 单次上传20条左右")])])],1),e._v(" "),e.uploaded?a("div",{staticStyle:{width:"360px",margin:"0 auto"}},[a("p",{staticStyle:{color:"#029E4A"}},[a("b",[e._v("成功个数: ")]),e._v(" "),a("span",[e._v(e._s(e.uploadObj.succesNum))]),e._v("    \n            "),a("b",[e._v("失败个数: ")]),e._v(" "),a("span",[e._v(e._s(e.uploadObj.failNum))])]),e._v(" "),e._l(e.uploadObj.errorList,function(t,s){return a("p",{key:s,staticStyle:{color:"red"}},[e._v(e._s(t.errorPhone)+": "+e._s(t.errorMsg))])})],2):e._e()]),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.showAlert=!1}}},[e._v("取消导入")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.linkAccount}},[e._v("确定导入")])],1)])],1),e._v(" "),a("div",{staticClass:"accountTab"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{width:"60",type:"index",align:"center",label:"编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userName",align:"center",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"telephone",align:"center",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wechatNum",align:"center",label:"微信号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"buyerLevel",align:"center",label:"类别"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(1==t.row.buyerLevel?"一类":2==t.row.buyerLevel?"二类":"三类"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"buyerStatus",align:"center",label:"帐号状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(0==t.row.buyerStatus?"冻结":"正常"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",width:"100",label:"京东帐号状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"tipSmall",class:1==t.row.isJdPassCheck?"tipSuccess":2==t.row.isJdPassCheck?"tipWait":"tipError"},[e._v(e._s(1==t.row.isJdPassCheck?"已认证":0==t.row.isJdPassCheck?"未提交":"待审核"))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"parentUserName",align:"center",label:"邀请人"}}),e._v(" "),a("el-table-column",{attrs:{prop:"operaterName",align:"center",label:"平台管理员"}}),e._v(" "),a("el-table-column",{attrs:{prop:"gmtCreate",align:"center",label:"创建时间"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("查看")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pager"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":e.pageSizeArray,"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pageTotal},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])},n=[],o={render:s,staticRenderFns:n};t.a=o},fT5g:function(e,t,a){var s=a("6tyn");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("rjj0")("2a8ac8d8",s,!0)},fxRn:function(e,t,a){a("+tPU"),a("zQR9"),e.exports=a("g8Ux")},g8Ux:function(e,t,a){var s=a("77Pl"),n=a("3fs2");e.exports=a("FeBl").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return s(t.call(e))}},mvHQ:function(e,t,a){e.exports={default:a("qkKv"),__esModule:!0}},qkKv:function(e,t,a){var s=a("FeBl"),n=s.JSON||(s.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}}});
//# sourceMappingURL=5.e028f50ae5295b12231c.js.map